# é¢å¤–å‚æ•°è¯´æ˜ï¼š
# è¿‡æ»¤å™¨:
# filter
# filter.action å‚æ•°è¯´æ˜:Â·
# all æ·»åŠ å…¨éƒ¨èŠ‚ç‚¹ï¼Œä½¿ç”¨ all æ—¶ filter.keywords å¯ä¸ºç©º
# include æ·»åŠ æŒ‡å®šèŠ‚ç‚¹ï¼Œå¿…é¡»å¡«å†™ filter.keywords
# exclude æ’é™¤æŒ‡å®šèŠ‚ç‚¹ï¼Œå¿…é¡»å¡«å†™ filter.keywords
# filter.action: all,
# filter.keywords: ''

############ start of file ############
# é”šç‚¹åŒº

route:
  final: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  rules:
    - { rule_set: [ ads_domain ], outbound: ğŸª§ å¹¿å‘Šæ‹¦æˆª }
    - { type: logical, mode: or, rules: [ { port: [ 3478 ] }, { network: [ tcp ], port: [ 5349 ] }, { network: [ udp ], port: [ 5350, 5351, 19302 ] }, { rule_set: [ stun_domain ] } ], outbound: ğŸ’§ æ³„æ¼æ‹¦æˆª }
    - { rule_set: [ blockhttpdns_domain ], outbound: ğŸ” HttpDNS }
    - { rule_set: [ microsoft_domain ], outbound: ğŸªŸ Microsoft }
    - { rule_set: [ ai_domain ], outbound: ğŸ¤– AI }
    - { rule_set: [ youtube_domain ], outbound: ğŸ“¹ YouTube }
    - { rule_set: [ tiktok_domain ], outbound: ğŸµ TikTok }
    - { rule_set: [ telegram_domain, telegram_ip ], outbound: ğŸ“² Telegram }
    - { rule_set: [ netflix_domain, netflix_ip ], outbound: ğŸ¥ Netflix }
    - { rule_set: [ apple_domain, apple_ip ], outbound: ğŸ Apple }
    - { rule_set: [ google_domain, google_ip ], outbound: ğŸ” Google }
    - { action: resolve }
    - { type: logical, mode: or, rules: [ { type: logical, mode: and, rules: [ { rule_set: [ cn_domain ] }, { rule_set: [ cn_ip ] } ] }, { rule_set: [ cn_ip ] }, { rule_set: [ private_domain, private_ip ] } ], outbound: ğŸ¯ å…¨çƒç›´è¿ }
  rule_set:
    # MetaCubeX è§„åˆ™é›†
    - { tag: ads_domain, type: remote, format: source, url: https://jsd.onmicrosoft.cn/gh/TG-Twilight/AWAvenue-Ads-Rule@main/Filters/AWAvenue-Ads-Rule-Singbox.json, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: ai_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-ai-!cn.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: youtube_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/youtube.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: google_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/google.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: telegram_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/telegram.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: tiktok_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/tiktok.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: netflix_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/netflix.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: apple_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/apple.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: microsoft_domain, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/microsoft.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: private_domain, type: remote, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/private.srs, format: binary, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: private_ip, type: remote, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/private.srs, format: binary, download_detour: ğŸ¯ å…¨çƒç›´è¿ }    
    - { tag: google_ip, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geoip/google.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: telegram_ip, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geoip/telegram.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: netflix_ip, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geoip/netflix.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: apple_ip, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geoip/apple.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: cn_domain, type: remote, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/cn.srs, format: binary, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: cn_ip, type: remote, format: binary, url: https://jsd.onmicrosoft.cn/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    # senshinya è§„åˆ™é›†
    - { tag: stun_domain, type: remote, url: https://jsd.onmicrosoft.cn/gh/senshinya/singbox_ruleset@main/rule/STUN/STUN.srs, format: binary, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
    - { tag: blockhttpdns_domain, type: remote, url: https://jsd.onmicrosoft.cn/gh/senshinya/singbox_ruleset@main/rule/BlockHttpDNS/BlockHttpDNS.srs, format: binary, download_detour: ğŸ¯ å…¨çƒç›´è¿ }
outbounds:
  - { tag: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: selector, interrupt_exist_connections: true, outbounds: [ â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, type: selector, interrupt_exist_connections: true, outbounds: [], filter: [ { action: all, keywords: '' } ] }
  - { tag: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, type: urltest, interrupt_exist_connections: true, url: https://www.gstatic.com/generate_204, interval: 3m, tolerance: 150, outbounds: [], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ Apple, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸªŸ Microsoft, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ” Google, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ“¹ YouTube, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ¤– AI, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸµ TikTok, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ¥ Netflix, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ“² Telegram, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸŸ¢ æ‰‹åŠ¨é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹© ], filter: [ { action: all, keywords: '' } ] }
  - { tag: ğŸ¯ å…¨çƒç›´è¿, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸ¯ å…¨å±€ç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹© ] }
  - { tag: ğŸª§ å¹¿å‘Šæ‹¦æˆª, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸš« æ‹’ç»è¿æ¥, ğŸ¯ å…¨å±€ç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹© ] }
  - { tag: ğŸ’§ æ³„æ¼æ‹¦æˆª, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸš« æ‹’ç»è¿æ¥, ğŸ¯ å…¨å±€ç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹© ] }
  - { tag: ğŸ” HttpDNS, type: selector, interrupt_exist_connections: true, outbounds: [ ğŸš« æ‹’ç»è¿æ¥, ğŸ¯ å…¨å±€ç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹© ] }
  ############ å…¨å›½å®¶åˆ†ç»„è‡ªåŠ¨é€‰æ‹© ############  
